---
title: 小程序迁移企业微信
---

# 小程序迁移企业微信

## 概述
- 企业微信移动客户端从2.5.8版本开始，内置微信小程序基础库
  - 也就是说理论上开发者无需适配（部分接口需要适配），即可将微信小程序移植到企业微信上运行
- 本质上企业微信小程序是微信小程序的一个扩展子集
  - 也就是说微信小程序的大部分能力都可以在企业微信上运行
- 如果需要同时运行在微信和企业微信端，需要针对企业微信的环境适配部分不兼容的能力

## 运行
- 安装企业微信小程序插件
- 切换成企业微信小程序模式调试代码
- 预览生成二维码，企业微信扫描即可实现手机端预览

## 区别
- 微信小程序中可以通过获取用户的openid来唯一标识一个用户
- 企业微信小程序中可以通过获取用户的userid来唯一标识一个员工
- 企业微信拓展了员工企业身份相配套的session生成以及验证的接口、员工基础信息获取的相关接口以及企业微信小程序独有的接口

## 不支持的API

| api | 解释 |
| --- | -- |
| wx.setTopBarText | 动态设置置顶栏文字内容 |
| wx.nextTick | 延迟一部分操作到下一个时间片再执行 |
| wx.onWindowResize | 监听窗口尺寸变化事件 |
| wx.offWindowResize | 取消监听窗口尺寸变化事件 |
| wx.onKeyboardHeightChange | 监听键盘高度变化 |
| 背景音频 | 都不支持 |
| 相机所有API | 都不支持 |
| 转发类 | 部分支持 |
| 访问类 | 都不支持 |
| 卡券、生物认证 | 都不支持 |
| 发票、微信运动 | 都不支持 |
| NFC | 不支持 |
| 设备方向、陀螺仪 | 都不支持 |
| 第三方平台 | 不支持 |

## 不支持组件

- 常见的都支持，涉及到音频，视频，相机，地图，画布之类的，就要小心使用，很有可能会出现不兼容的现象

## 总结
- 总结一句话就是老老实实写，别玩花里胡哨的东西




